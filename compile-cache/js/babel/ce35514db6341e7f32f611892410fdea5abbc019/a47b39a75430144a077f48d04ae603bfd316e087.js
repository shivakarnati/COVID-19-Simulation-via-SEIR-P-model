'use babel';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.walk = walk;
exports.prewalk = prewalk;
exports.postwalk = postwalk;
exports.prefor = prefor;

function walk(tree, pre, post) {
  tree = pre(tree);
  tree.children = tree.children.map(function (tree) {
    return walk(tree, pre, post);
  });
  return post(tree);
}

function prewalk(tree, f) {
  return walk(tree, f, function (x) {
    return x;
  });
}

function postwalk(tree, f) {
  return walk(tree, function (x) {
    return Object.assign({}, x);
  }, f);
}

function prefor(tree, f) {
  return prewalk(tree, function (x) {
    f(x);return x;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NoaXZha3Jpc2huYWthcm5hdGkvLnZhci9hcHAvaW8uYXRvbS5BdG9tL2RhdGEvcGFja2FnZXMvaW5rL2xpYi9wbG90cy90cmVlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQzs7Ozs7Ozs7OztBQUVMLFNBQVMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO0FBQ3BDLE1BQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakIsTUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUk7V0FBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUM7R0FBQSxDQUFDLENBQUM7QUFDakUsU0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDbkI7O0FBRU0sU0FBVSxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRTtBQUFFLFNBQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsVUFBQSxDQUFDO1dBQUksQ0FBQztHQUFBLENBQUMsQ0FBQztDQUFFOztBQUM1RCxTQUFTLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFO0FBQUUsU0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQUEsQ0FBQztXQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztHQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FBRTs7QUFDL0UsU0FBVyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRTtBQUFFLFNBQU8sT0FBTyxDQUFDLElBQUksRUFBRSxVQUFBLENBQUMsRUFBSTtBQUFDLEtBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLE9BQU8sQ0FBQyxDQUFBO0dBQUMsQ0FBQyxDQUFDO0NBQUUiLCJmaWxlIjoiL2hvbWUvc2hpdmFrcmlzaG5ha2FybmF0aS8udmFyL2FwcC9pby5hdG9tLkF0b20vZGF0YS9wYWNrYWdlcy9pbmsvbGliL3Bsb3RzL3RyZWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdhbGsodHJlZSwgcHJlLCBwb3N0KSB7XG4gIHRyZWUgPSBwcmUodHJlZSk7XG4gIHRyZWUuY2hpbGRyZW4gPSB0cmVlLmNoaWxkcmVuLm1hcCh0cmVlID0+IHdhbGsodHJlZSwgcHJlLCBwb3N0KSk7XG4gIHJldHVybiBwb3N0KHRyZWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gIHByZXdhbGsodHJlZSwgZikgeyByZXR1cm4gd2Fsayh0cmVlLCBmLCB4ID0+IHgpOyB9XG5leHBvcnQgZnVuY3Rpb24gcG9zdHdhbGsodHJlZSwgZikgeyByZXR1cm4gd2Fsayh0cmVlLCB4ID0+IE9iamVjdC5hc3NpZ24oe30sIHgpLCBmKTsgfVxuZXhwb3J0IGZ1bmN0aW9uICAgcHJlZm9yKHRyZWUsIGYpIHsgcmV0dXJuIHByZXdhbGsodHJlZSwgeCA9PiB7Zih4KTsgcmV0dXJuIHh9KTsgfVxuIl19